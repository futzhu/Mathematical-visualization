<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高级数学可视化平台</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main-container">
        <!-- 左侧控制面板 -->
        <div class="control-panel">
            <div class="panel-header">
                <h1><i class="fas fa-calculator"></i> 函数可视化</h1>
                <div class="theme-switcher">
                    <button class="theme-btn blue" onclick="changeTheme('#3498db')"></button>
                    <button class="theme-btn green" onclick="changeTheme('#2ecc71')"></button>
                    <button class="theme-btn purple" onclick="changeTheme('#9b59b6')"></button>
                </div>
            </div>

            <!-- 使用提示区域 -->
            <div class="tips-section">
                <p class="tips-title" style="font-weight: bold;">使用提示:</p>
                <ul class="tips-list">
                    <li>拖动滑块实时调整参数</li>
                    <li>输入3D函数后按回车绘制</li>
                    <li>右键拖动旋转3D视图</li>
                </ul>
            </div>

            <!-- 参数控制组 -->
            <div class="control-group">
                <label class="control-label">
                    <i class="fas fa-palette"></i> 曲线颜色
                    <input type="color" id="lineColor" value="#3498db">
                </label>
            </div>

            <!-- 函数选择 -->
            <div class="control-group">
                <label class="control-label">
                    <i class="fas fa-shapes"></i> 函数类型
                    <select id="functionType" class="styled-select">
                        <option value="sin">📈 正弦函数</option>
                        <option value="cos">📉 余弦函数</option>
                        <option value="quadratic">⤴️ 二次函数</option>
                    </select>
                </label>
            </div>

            <!-- 滑块组 -->
            <div class="slider-group">
                <div class="slider-container">
                    <label>振幅 <span id="ampValue" class="value-display">1.0</span></label>
                    <input type="range" id="amp" min="0" max="2" step="0.1" value="1">
                </div>
                <div class="slider-container">
                    <label>频率 <span id="freqValue" class="value-display">1.0</span></label>
                    <input type="range" id="freq" min="0.5" max="5" step="0.5" value="1">
                </div>
            </div>

            <!-- 3D控制 -->
            <div class="control-group">
                <label class="control-label">
                    <i class="fas fa-cube"></i> 3D函数
                    <div class="input-group spaced-input-group">
                        <input type="text" id="3dFunc" placeholder="z = x^2 + y^2" class="flex-input">
                        <button class="primary-btn spaced-button" onclick="plot3DFunction()">
                            <i class="fas fa-sync-alt"></i> 
                        </button>
                    </div>
                </label>
            </div>

            <!-- 工具按钮 -->
            <div class="toolbar button-group">
                <div class="btn-row">
                    <button class="primary-btn" onclick="addPoint()">
                        <i class="fas fa-plus-circle"></i> 添加点
                    </button>
                    <button class="primary-btn" onclick="addLine()">
                        <i class="fas fa-ruler-combined"></i> 添加线
                    </button>
                </div>
                <div class="btn-row">
                    <button class="primary-btn" onclick="saveProject()">
                        <i class="fas fa-save"></i> 保存
                    </button>
                    <button class="primary-btn" onclick="loadProject()">
                        <i class="fas fa-folder-open"></i> 加载
                    </button>
                </div>
            </div>
        </div> <!-- 结束左侧控制面板 -->

        <!-- 右侧可视化区 -->
        <div class="visualization-panel">
            <!-- 3D容器 -->
            <div class="plot-card">
                <div class="plot-header">
                    <h3><i class="fas fa-cube"></i> 3D视图</h3>
                    <button class="icon-btn" onclick="reset3DView()">
                        <i class="fas fa-compass"></i>
                    </button>
                </div>
                <div id="3d-container"></div>
            </div>

            <!-- 2D容器 -->
            <div class="plot-card">
                <div class="plot-header">
                    <h3><i class="fas fa-chart-line"></i> 2D动态曲线</h3>
                    <div class="legend">
                        <span class="legend-color" style="background:#3498db"></span>
                        <span>当前函数</span>
                    </div>
                </div>
                <div id="plot"></div>
            </div>
        </div>
    </div>

    <!-- 依赖库 -->
    <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.js"></script>
    <!-- 本地脚本 -->
    <script src="script.js"></script>
</body>
</html>